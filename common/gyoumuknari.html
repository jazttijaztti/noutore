<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="gyoumukanri.css">
  <title></title>
</head>
<body>
  <div id ="wrapper">
  <h1>業務管理</h1>
    <div class="controls">
    <button id="readButton">▶️ 再生</button>
    <button id="stopButton">⏹️ 停止</button>
    <br><br>
    <label for="speedRange">読み上げ速度: </label>
    <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    <span id="speedValue">1.0x</span>
  </div>

  <script>
    const readButton = document.getElementById("readButton");
    const stopButton = document.getElementById("stopButton");
    const speedRange = document.getElementById("speedRange");
    const speedValue = document.getElementById("speedValue");

    let currentIndex = 0;
    let lines = [];
    let currentRate = parseFloat(speedRange.value);
    let isStopped = false;

    speedRange.addEventListener("input", () => {
      currentRate = parseFloat(speedRange.value);
      speedValue.textContent = currentRate.toFixed(1) + "x";
    });

    const speakLine = (index) => {
      if (isStopped || index >= lines.length) return;

      const utterance = new SpeechSynthesisUtterance(lines[index].trim());
      utterance.lang = "ja-JP";
      utterance.rate = currentRate;
      utterance.pitch = 1;
      utterance.volume = 1;

      utterance.onend = () => {
        setTimeout(() => {
          speakLine(index + 1);
        }, 400); // 文と文の間隔
      };

      window.speechSynthesis.speak(utterance);
    };

    readButton.addEventListener("click", () => {
      window.speechSynthesis.cancel(); // 念のためストップ
      isStopped = false;
      const allText = document.body.innerText;
      lines = allText.split(/\n|。|！|？|\r/g).filter(line => line.trim() !== "");
      speakLine(0);
    });

    stopButton.addEventListener("click", () => {
      window.speechSynthesis.cancel();
      isStopped = true;
    });
  </script>
    <section class="block">


    </section>
    <section class="block">
  いのうえエリア

      <!-- 業務内容全体像 -->
      <h1>井上の1ヶ月の業務の内容</h1>
        <div class="ino_cycleblock">
          <h2 class="ino_gyoumutitle">月次業務<h2>
          <ul class="ino_todolist">
            <li>
              <div>
                <h3>記帳に必要な資料の依頼（※井上が実施しているわけでないですが業務全体像の理解のために記載）</h3>
                <div>
                  <div>作業工程</div>
                </div>
              </div>
            </li>
            <li>
              <div>
                <h3>所得税納付</h3>
              </div>
            </li>
          </ul>
        </div>
        <div class="ino_cycleblock">
          <h2 class="ino_gyoumutitle">週次業務<h2>
          <ul class="ino_todolist">
            <li>
              <div>
                <h3>会計ユニットリーダーMTG</h3>
              </div>
            </li>
            <li>
              <div>
                <h3>免税チームMTG</h3>
              </div>
            </li>
          </ul>
        </div>
        <div class="ino_cycleblock">
          <h2 class="ino_gyoumutitle">日次業務<h2>
          <ul class="ino_todolist">
            <li>
              <div>
                <h3>PS朝会</h3>
              </div>
            </li>
                <h3>試算表作成</h3>
          </ul>
        </div>

      <!-- 実際の1日の業務 -->
      <h1>ある1日の井上の業務</h1>
        <h2>3月25日（火）</h2>

    </section>
  </div>
</body>
</html>
